# Instructions for calculating the time to capture cargo by microtubules in tubular cells
#### The accompanying code was developed by Saurabh S. Mogre and Elena F. Koslover
Contact smogre@ucsd.edu for queries regarding the code

## 3D simulations for cargo capture

### Running the simulations
- The folder 'source' contains FORTRAN 90 source files required to generate the executable
- `gfortran` or equivalent FORTRAN 90 compiler is required to compile the files
- navigate to `source/` and run the command `make` to compile.
- run the executable `transportsimMT.exe` with a parameter file name as argument.

Example parameter files are provided for cargo capture by random microtubule lengths. For example, the command:
./transportsimMT.exe example

will run a simulation for the diffusive capture of 100 particles by 5 microtubules in a domain of length 10 microns. The example simulations run for 100 random microtubule configurations with lengths specified in the file `mtlengths.txt`.  The simulations will output a `*.fpt.out` file containing the capture times for individual particles.

### Reading simulation data
Run the function `readfpt.m` in MATLAB to read in data from the `*.fpt.out` file and extract the capture times to `*.mat` file. A similar process may be followed using the function `readbindpos.m` to extract cargo capture positions which are stored in a `*.bindpos.out` file generated by the simulation.

## Calculating capture time using the 1D analytical model
Cargo capture time can also be calculated using the 1D analytical model by running the script `getMFPT_1Dcalcs.m`
